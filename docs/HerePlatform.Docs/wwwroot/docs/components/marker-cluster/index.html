<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MarkerClusterComponent - HerePlatform.NET Docs</title>
    <base href="/" />
    <meta name="description" content="Marker clustering for large datasets." />
    <link rel="canonical" href="https://emuuu.github.io/HerePlatform.NET/docs/components/marker-cluster" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="MarkerClusterComponent - HerePlatform.NET" />
    <meta property="og:description" content="Marker clustering for large datasets." />
    <meta property="og:url" content="https://emuuu.github.io/HerePlatform.NET/docs/components/marker-cluster" />
    <meta property="og:site_name" content="HerePlatform.NET Docs" />
    <meta property="og:image" content="https://emuuu.github.io/HerePlatform.NET/img/blazor-here-platform.svg" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="MarkerClusterComponent - HerePlatform.NET" />
    <meta name="twitter:description" content="Marker clustering for large datasets." />
    <script type="application/ld+json">[{"context":"https://schema.org","type":"TechArticle","headline":"MarkerClusterComponent","description":"Marker clustering for large datasets.","url":"https://emuuu.github.io/HerePlatform.NET/docs/components/marker-cluster","image":"https://emuuu.github.io/HerePlatform.NET/img/blazor-here-platform.svg","publisher":{"type":"Organization","name":"HerePlatform.NET"}},{"context":"https://schema.org","type":"BreadcrumbList","itemListElement":[{"type":"ListItem","position":1,"name":"Docs","item":"https://emuuu.github.io/HerePlatform.NET/"},{"type":"ListItem","position":2,"name":"Components","item":"https://emuuu.github.io/HerePlatform.NET/docs/components"},{"type":"ListItem","position":3,"name":"MarkerClusterComponent","item":"https://emuuu.github.io/HerePlatform.NET/docs/components/marker-cluster"}]}]</script>
    <link rel="icon" type="image/svg+xml" href="img/blazor-here-platform.svg" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
    <link href="lib/prismjs/prism.css" rel="stylesheet" />
    <link href="css/app.css" rel="stylesheet" />
    <link href="HerePlatform.Docs.styles.css" rel="stylesheet" />
</head>
<body>
    <div id="app">
        <article style="max-width:800px;margin:2rem auto;padding:0 1rem;">
            <h1>MarkerClusterComponent</h1>
            <p class="lead text-muted">Marker clustering for large datasets.</p>
            <h2 id="basic-usage">Basic Usage</h2>
<p><code>MarkerClusterComponent</code> groups nearby markers into clusters when the map is zoomed out. Place it inside an <code>AdvancedHereMap</code> and provide a list of <code>ClusterDataPoint</code> objects.</p>
<p>Clustering requires the clustering module. Enable it in your API load options:</p>
<pre><code class="language-csharp">builder.Services.AddBlazorHerePlatform(&quot;YOUR_KEY&quot;, opts =&gt;
{
    opts.LoadClustering = true;
});
</code></pre>
<pre><code class="language-csharp">@using HerePlatformComponents.Maps
@using HerePlatformComponents.Maps.Clustering

&lt;AdvancedHereMap Options=&quot;_options&quot; Height=&quot;500px&quot;&gt;
    &lt;MarkerClusterComponent DataPoints=&quot;_points&quot; /&gt;
&lt;/AdvancedHereMap&gt;

@code {
    private readonly MapOptions _options = new()
    {
        Center = new LatLngLiteral(52.52, 13.405),
        Zoom = 10
    };

    private List&lt;ClusterDataPoint&gt; _points = new()
    {
        new(52.52, 13.405),
        new(52.53, 13.41),
        new(52.51, 13.39),
        new(52.525, 13.40, weight: 3)
    };
}
</code></pre>
<h2 id="cluster-options">Cluster Options</h2>
<p>Fine-tune clustering behavior with <code>Eps</code> (cluster radius in pixels) and <code>MinWeight</code> (minimum weight to form a cluster).</p>
<pre><code class="language-csharp">&lt;MarkerClusterComponent DataPoints=&quot;_points&quot;
                        Eps=&quot;64&quot;
                        MinWeight=&quot;3&quot;
                        MinZoom=&quot;3&quot;
                        MaxZoom=&quot;16&quot; /&gt;
</code></pre>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>DataPoints</code></td>
<td><code>List&lt;ClusterDataPoint&gt;?</code></td>
<td><code>null</code></td>
<td>Data points to cluster.</td>
</tr>
<tr>
<td><code>Eps</code></td>
<td><code>double</code></td>
<td><code>32</code></td>
<td>Cluster radius in pixels (DBSCAN epsilon).</td>
</tr>
<tr>
<td><code>MinWeight</code></td>
<td><code>int</code></td>
<td><code>2</code></td>
<td>Minimum aggregated weight to form a cluster.</td>
</tr>
<tr>
<td><code>MinZoom</code></td>
<td><code>double?</code></td>
<td><code>null</code></td>
<td>Minimum zoom level for clustering.</td>
</tr>
<tr>
<td><code>MaxZoom</code></td>
<td><code>double?</code></td>
<td><code>null</code></td>
<td>Maximum zoom level for clustering.</td>
</tr>
</tbody>
</table>
<p>Each <code>ClusterDataPoint</code> has <code>Lat</code>, <code>Lng</code>, <code>Weight</code> (default <code>1</code>), and an optional <code>Data</code> property.</p>
<h2 id="custom-themes">Custom Themes</h2>
<p>Customize cluster and noise (single-point) marker appearance with SVG templates. Use <code>{count}</code> and <code>{color}</code> as placeholders.</p>
<pre><code class="language-csharp">&lt;MarkerClusterComponent DataPoints=&quot;_points&quot;
    ClusterSvgTemplate=&quot;@_clusterSvg&quot;
    NoiseSvgTemplate=&quot;@_noiseSvg&quot; /&gt;

@code {
    private string _clusterSvg = &quot;&quot;&quot;
        &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;40&quot; height=&quot;40&quot;&gt;
            &lt;circle cx=&quot;20&quot; cy=&quot;20&quot; r=&quot;18&quot; fill=&quot;{color}&quot; stroke=&quot;#fff&quot; stroke-width=&quot;2&quot;/&gt;
            &lt;text x=&quot;20&quot; y=&quot;25&quot; text-anchor=&quot;middle&quot; fill=&quot;#fff&quot; font-size=&quot;12&quot;&gt;{count}&lt;/text&gt;
        &lt;/svg&gt;
        &quot;&quot;&quot;;

    private string _noiseSvg = &quot;&quot;&quot;
        &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;20&quot; height=&quot;20&quot;&gt;
            &lt;circle cx=&quot;10&quot; cy=&quot;10&quot; r=&quot;8&quot; fill=&quot;#1a73e8&quot; stroke=&quot;#fff&quot; stroke-width=&quot;2&quot;/&gt;
        &lt;/svg&gt;
        &quot;&quot;&quot;;
}
</code></pre>
<h2 id="events-onclustertap">Events (OnClusterTap)</h2>
<p>Handle taps on clusters or individual noise points with <code>OnClusterTap</code> and <code>OnNoiseTap</code>.</p>
<pre><code class="language-csharp">&lt;MarkerClusterComponent DataPoints=&quot;_points&quot;
                        OnClusterTap=&quot;HandleClusterTap&quot;
                        OnNoiseTap=&quot;HandleNoiseTap&quot; /&gt;

@code {
    private void HandleClusterTap(ClusterTapEventArgs args)
    {
        Console.WriteLine($&quot;Cluster tapped: {args.PointCount} points, weight {args.Weight}&quot;);
    }

    private void HandleNoiseTap(ClusterTapEventArgs args)
    {
        Console.WriteLine($&quot;Single point tapped at {args.Position}&quot;);
    }
}
</code></pre>
<h3 id="clustertapeventargs-properties">ClusterTapEventArgs Properties</h3>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Position</code></td>
<td><code>LatLngLiteral?</code></td>
<td>Geographic position of the cluster or point.</td>
</tr>
<tr>
<td><code>Weight</code></td>
<td><code>int</code></td>
<td>Total weight of the cluster (1 for noise).</td>
</tr>
<tr>
<td><code>PointCount</code></td>
<td><code>int</code></td>
<td>Number of data points in the cluster.</td>
</tr>
<tr>
<td><code>IsCluster</code></td>
<td><code>bool</code></td>
<td><code>true</code> for clusters, <code>false</code> for noise points.</td>
</tr>
</tbody>
</table>

        </article>
    </div>
    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">X</a>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="lib/prismjs/prism.js"></script>
    <script src="js/docs.js"></script>
    <script src="_content/BlazorHerePlatform/js/objectManager.js"></script>
    <script src="_framework/blazor.webassembly.js"></script>
</body>
</html>